<form [formGroup]="employeeForm" #formDir="ngForm">
  <div class="container mt-5">
    <h2 class="text-center text-primary">New Employee</h2>
    <hr />
    <div class="col-sm-8 offset-sm-2">
      <div *ngIf="employeeForm.dirty" class="alert alert-info">
        <strong>Information:</strong> You have made changes. Any unsaved changes
        will be lost!
      </div>
    </div>
    <div class="form-group row">
      <label class="form-control-label col-md-12">Name</label>
      <div class="col-md-4">
        <input
          type="text"
          class="form-control is-invalid"
          formControlName="name"
          placeholder="Name"
          [ngClass]="{
            'is-invalid':
              employeeForm.get('name').errors &&
              employeeForm.get('name').touched
          }"
        />
        <div
          class="invalid-feedback"
          *ngIf="
            employeeForm.get('name').errors && employeeForm.get('name').touched
          "
        >
          Name is required.
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label class="control-label col-md-12" for="Gender">Gender</label>
      <div class="col-md-4">
        <select
          class="form-control"
          data-val="true"
          formControlName="gender"
          [ngClass]="{
            'is-invalid':
              employeeForm.get('gender').errors &&
              employeeForm.get('gender').touched
          }"
        >
          <option value="">Select Gender</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
        </select>
        <div
          class="invalid-feedback"
          *ngIf="
            employeeForm.get('gender').errors &&
            employeeForm.get('gender').touched
          "
        >
          Gender is required.
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label class="control-label col-md-12" for="Department"
        >Date of birth</label
      >
      <div class="col-md-4">
        <input
          class="form-control is-invalid"
          [ngClass]="{
            'is-invalid':
              employeeForm.get('dob').errors && employeeForm.get('dob').touched
          }"
          class="form-control"
          placeholder="Date of Birth"
          formControlName="dob"
          type="text"
          bsDatepicker
          [bsConfig]="bsConfig"
        />

        <div
          class="invalid-feedback"
          *ngIf="
            employeeForm.hasError('required', 'dob') &&
            employeeForm.get('dob').touched
          "
        >
          Date of birth is required
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label class="control-label col-md-12" for="Department">Department</label>
      <div class="col-md-4">
        <input
          class="form-control is-invalid"
          type="text"
          formControlName="department"
          placeholder="Department"
          [ngClass]="{
            'is-invalid':
              employeeForm.get('department').errors &&
              employeeForm.get('department').touched
          }"
        />

        <div
          class="invalid-feedback"
          *ngIf="
            employeeForm.hasError('required', 'department') &&
            employeeForm.get('department').touched
          "
        >
          Department is required
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label class="control-label col-md-12" for="City">City</label>
      <div class="col-md-4">
        <input
          class="form-control is-invalid"
          type="text"
          formControlName="city"
          data-val="true"
          placeholder="City"
          [ngClass]="{
            'is-invalid':
              employeeForm.get('city').errors &&
              employeeForm.get('city').touched
          }"
        />

        <div
          class="invalid-feedback"
          *ngIf="
            employeeForm.hasError('required', 'city') &&
            employeeForm.get('city').touched
          "
        >
          City is required
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label class="control-label col-md-12" for="Username">Username</label>
      <div class="col-md-4">
        <input
          class="form-control is-invalid"
          type="text"
          formControlName="username"
          data-val="true"
          placeholder="Username"
          [ngClass]="{
            'is-invalid':
              employeeForm.get('username').errors &&
              employeeForm.get('username').touched
          }"
        />

        <div
          class="invalid-feedback"
          *ngIf="
            employeeForm.hasError('required', 'username') &&
            employeeForm.get('username').touched
          "
        >
          Username is required
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label class="control-label col-md-12" for="Password">Password</label>
      <div class="col-md-4">
        <input
          class="form-control is-invalid"
          type="password"
          formControlName="password"
          data-val="true"
          placeholder="Password"
          [ngClass]="{
            'is-invalid':
              employeeForm.get('password').errors &&
              employeeForm.get('password').touched
          }"
        />

        <div
          class="invalid-feedback"
          *ngIf="
            employeeForm.hasError('required', 'password') &&
            employeeForm.get('password').touched
          "
        >
          Username is required
        </div>
        <div
          class="invalid-feedback"
          *ngIf="
            employeeForm.get('password').hasError('minlength') &&
            employeeForm.get('password').touched
          "
        >
          Password must be at least 4 characters
        </div>
        <div
          class="invalid-feedback"
          *ngIf="
            employeeForm.get('password').hasError('maxlength') &&
            employeeForm.get('password').touched
          "
        >
          Password cannot exceed 8 characters
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label class="control-label col-md-12" for="confirmPassword"
        >Confirm Password</label
      >
      <div class="col-md-4">
        <input
          class="form-control is-invalid"
          type="password"
          formControlName="confirmPassword"
          data-val="true"
          placeholder="Confirm Password"
          [ngClass]="{
            'is-invalid':
              (employeeForm.get('confirmPassword').errors &&
                employeeForm.get('confirmPassword').touched) ||
              (employeeForm.get('confirmPassword').touched &&
                employeeForm.hasError('mismatch'))
          }"
        />

        <div
          class="invalid-feedback"
          *ngIf="
            employeeForm.hasError('required', 'confirmPassword') &&
            employeeForm.get('confirmPassword').touched
          "
        >
          Confirm Password is required
        </div>
        <div
          class="invalid-feedback"
          *ngIf="
            employeeForm.hasError('mismatch') &&
            employeeForm.get('confirmPassword').touched
          "
        >
          Passwords must match
        </div>
      </div>
    </div>

    <div class="form-group">
      <button
        type="submit"
        [disabled]="!employeeForm.valid"
        (click)="save()"
        class="btn btn-primary mr-2"
      >
        Save
      </button>
      <button class="btn btn-secondary" (click)="cancel()">Cancel</button>
    </div>
  </div>
</form>
